<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>AsciiCommander (Rfid.AsciiProtocol API v3.5.0)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: com.uk.tsl.rfid.asciiprotocol, class: AsciiCommander">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.uk.tsl.rfid.asciiprotocol</a></div>
<h1 title="Class AsciiCommander" class="title">Class AsciiCommander</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">com.uk.tsl.rfid.asciiprotocol.AsciiCommander</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="commands/IAsciiCommandExecuting.html" title="interface in com.uk.tsl.rfid.asciiprotocol.commands">IAsciiCommandExecuting</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">AsciiCommander</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="commands/IAsciiCommandExecuting.html" title="interface in com.uk.tsl.rfid.asciiprotocol.commands">IAsciiCommandExecuting</a></span></div>
<div class="block">AsciiCommander provides methods to communicate with TSL devices that use the TSL ASCII 2.0 Protocol
 Instances of this class support:    
    execution of an IAsciiCommand either synchronously or asynchronously
    management of the responder chain for data received from the TSL device
 
 Warning: Instances of AsciiCommander MUST be created on the UI thread</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#REASON_KEY" class="member-name-link">REASON_KEY</a></code></div>
<div class="col-last even-row-color">
<div class="block"><span class="deprecated-label">Deprecated.</span>
<div class="deprecation-comment">LocalBroadcastManager is fully deprecated - use the observable stateChangedEvent() instead</div>
</div>
</div>
<div class="col-first odd-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#STATE_CHANGED_NOTIFICATION" class="member-name-link">STATE_CHANGED_NOTIFICATION</a></code></div>
<div class="col-last odd-row-color">
<div class="block"><span class="deprecated-label">Deprecated.</span>
<div class="deprecation-comment">LocalBroadcastManager is fully deprecated - use the observable stateChangedEvent() instead</div>
</div>
</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(android.content.Context,android.os.Handler)" class="member-name-link">AsciiCommander</a><wbr>(android.content.Context&nbsp;context,
 android.os.Handler&nbsp;handler)</code></div>
<div class="col-last even-row-color">
<div class="block">Initializes a new instance of the AsciiCommander class</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#abortSynchronousCommand()" class="member-name-link">abortSynchronousCommand</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Terminates the currently running synchronous command</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addResponder(com.uk.tsl.rfid.asciiprotocol.responders.IAsciiCommandResponder)" class="member-name-link">addResponder</a><wbr>(<a href="responders/IAsciiCommandResponder.html" title="interface in com.uk.tsl.rfid.asciiprotocol.responders">IAsciiCommandResponder</a>&nbsp;responder)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Add a responder to the responder chain</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addSynchronousResponder()" class="member-name-link">addSynchronousResponder</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Add the synchronous responder into the chain</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#clearResponders()" class="member-name-link">clearResponders</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Clear all responders from the responder chain</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#createSharedInstance(android.content.Context)" class="member-name-link">createSharedInstance</a><wbr>(android.content.Context&nbsp;context)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Create the shared instance of the AsciiCommander
 Does nothing if instance already exists

 Note: this MUST be called from the UI thread</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#executeCommand(com.uk.tsl.rfid.asciiprotocol.commands.IAsciiCommand)" class="member-name-link">executeCommand</a><wbr>(<a href="commands/IAsciiCommand.html" title="interface in com.uk.tsl.rfid.asciiprotocol.commands">IAsciiCommand</a>&nbsp;command)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Execute the given command</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getCommanderId()" class="member-name-link">getCommanderId</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Identifier for the AsciiCommander instance that is unique for the life of the App
 but not identical across App launches</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getConnectedDeviceName()" class="member-name-link">getConnectedDeviceName</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">A display name for the currently connected device</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="device/ConnectionState.html" title="enum class in com.uk.tsl.rfid.asciiprotocol.device">ConnectionState</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getConnectionState()" class="member-name-link">getConnectionState</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Query the AsciiCommander's connection state</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final <a href="DeviceProperties.html" title="class in com.uk.tsl.rfid.asciiprotocol">DeviceProperties</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getDeviceProperties()" class="member-name-link">getDeviceProperties</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getHasSynchronousResponder()" class="member-name-link">getHasSynchronousResponder</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Gets a value indicating whether the chain has a synchronous responder</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Date.html" title="class or interface in java.util" class="external-link">Date</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLastActivityTime()" class="member-name-link">getLastActivityTime</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Gets or sets the time of the readers last activity (send or receive)</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLastCommandLine()" class="member-name-link">getLastCommandLine</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Gets the last command line sent</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="device/Reader.html" title="class in com.uk.tsl.rfid.asciiprotocol.device">Reader</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getReader()" class="member-name-link">getReader</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Gets the currently connected reader</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Iterable.html" title="class or interface in java.lang" class="external-link">Iterable</a>&lt;<a href="responders/IAsciiCommandResponder.html" title="interface in com.uk.tsl.rfid.asciiprotocol.responders">IAsciiCommandResponder</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getResponderChain()" class="member-name-link">getResponderChain</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Gets the chain of responders that handle responses to commands</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isConnected()" class="member-name-link">isConnected</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Gets a value indicating whether a reader is connected and ready for use</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isResponsive()" class="member-name-link">isResponsive</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Gets a value indicating whether the last command completed as expected i.e.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeResponder(com.uk.tsl.rfid.asciiprotocol.responders.IAsciiCommandResponder)" class="member-name-link">removeResponder</a><wbr>(<a href="responders/IAsciiCommandResponder.html" title="interface in com.uk.tsl.rfid.asciiprotocol.responders">IAsciiCommandResponder</a>&nbsp;responder)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Remove a responder from the responder chain</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeSynchronousResponder()" class="member-name-link">removeSynchronousResponder</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Remove the synchronous responder from the chain</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="responders/IResponderChainErrorDelegate.html" title="interface in com.uk.tsl.rfid.asciiprotocol.responders">IResponderChainErrorDelegate</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#responderChainErrorDelegate()" class="member-name-link">responderChainErrorDelegate</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The delegate to notify when there is an unhandled exception in the ResponderChain</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#send(java.lang.String)" class="member-name-link">send</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;line)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Send the given string as a CrLf terminated string, to the reader.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setReader(com.uk.tsl.rfid.asciiprotocol.device.Reader)" class="member-name-link">setReader</a><wbr>(<a href="device/Reader.html" title="class in com.uk.tsl.rfid.asciiprotocol.device">Reader</a>&nbsp;reader)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Set the reader being used</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setResponderChainErrorDelegate(com.uk.tsl.rfid.asciiprotocol.responders.IResponderChainErrorDelegate)" class="member-name-link">setResponderChainErrorDelegate</a><wbr>(<a href="responders/IResponderChainErrorDelegate.html" title="interface in com.uk.tsl.rfid.asciiprotocol.responders">IResponderChainErrorDelegate</a>&nbsp;delegate)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets the responder chain error delegate</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="AsciiCommander.html" title="class in com.uk.tsl.rfid.asciiprotocol">AsciiCommander</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#sharedInstance()" class="member-name-link">sharedInstance</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../utils/Observable.html" title="class in com.uk.tsl.utils">Observable</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#stateChangedEvent()" class="member-name-link">stateChangedEvent</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The event fired when the AsciiCommander's connection state changes
 Note: this event is issued on the thread that AsciiCommander was FIRST created on (which should be the UI thread)

 This event is provided as a replacement for the deprecated LocalBroadcastManager STATE_CHANGED_NOTIFICATION</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#updateDeviceProperties()" class="member-name-link">updateDeviceProperties</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Update the AsciiCommander's DeviceProperties for the currently connected reader

 This uses synchronous/blocking commands</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="STATE_CHANGED_NOTIFICATION">
<h3>STATE_CHANGED_NOTIFICATION</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">STATE_CHANGED_NOTIFICATION</span></div>
<div class="deprecation-block"><span class="deprecated-label">Deprecated.</span>
<div class="deprecation-comment">LocalBroadcastManager is fully deprecated - use the observable stateChangedEvent() instead</div>
</div>
<div class="block">The AsciiCommander indicates that there has been a change of state using this LocalBroadcastManager event</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#com.uk.tsl.rfid.asciiprotocol.AsciiCommander.STATE_CHANGED_NOTIFICATION">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="REASON_KEY">
<h3>REASON_KEY</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">REASON_KEY</span></div>
<div class="deprecation-block"><span class="deprecated-label">Deprecated.</span>
<div class="deprecation-comment">LocalBroadcastManager is fully deprecated - use the observable stateChangedEvent() instead</div>
</div>
<div class="block">The Intent Key to extract the connection state reason message from the AsciiCommander STATE_CHANGED_NOTIFICATION</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#com.uk.tsl.rfid.asciiprotocol.AsciiCommander.REASON_KEY">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(android.content.Context,android.os.Handler)">
<h3>AsciiCommander</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">AsciiCommander</span><wbr><span class="parameters">(android.content.Context&nbsp;context,
 android.os.Handler&nbsp;handler)</span></div>
<div class="block">Initializes a new instance of the AsciiCommander class</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="stateChangedEvent()">
<h3>stateChangedEvent</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../utils/Observable.html" title="class in com.uk.tsl.utils">Observable</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">stateChangedEvent</span>()</div>
<div class="block">The event fired when the AsciiCommander's connection state changes
 Note: this event is issued on the thread that AsciiCommander was FIRST created on (which should be the UI thread)

 This event is provided as a replacement for the deprecated LocalBroadcastManager STATE_CHANGED_NOTIFICATION</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the Observable connection state change event</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getDeviceProperties()">
<h3>getDeviceProperties</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type"><a href="DeviceProperties.html" title="class in com.uk.tsl.rfid.asciiprotocol">DeviceProperties</a></span>&nbsp;<span class="element-name">getDeviceProperties</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The DeviceProperties for the currently connected device. If no device is
 connected then DeviceProperties.DEVICE_DEFAULTS is returned</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getCommanderId()">
<h3>getCommanderId</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getCommanderId</span>()</div>
<div class="block">Identifier for the AsciiCommander instance that is unique for the life of the App
 but not identical across App launches</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the identifier</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getConnectedDeviceName()">
<h3>getConnectedDeviceName</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getConnectedDeviceName</span>()</div>
<div class="block">A display name for the currently connected device</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the connected device display name or default message.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getReader()">
<h3>getReader</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="device/Reader.html" title="class in com.uk.tsl.rfid.asciiprotocol.device">Reader</a></span>&nbsp;<span class="element-name">getReader</span>()</div>
<div class="block">Gets the currently connected reader</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the Reader instance</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setReader(com.uk.tsl.rfid.asciiprotocol.device.Reader)">
<h3>setReader</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setReader</span><wbr><span class="parameters">(<a href="device/Reader.html" title="class in com.uk.tsl.rfid.asciiprotocol.device">Reader</a>&nbsp;reader)</span></div>
<div class="block">Set the reader being used</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>reader</code> - the Reader to use</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="responderChainErrorDelegate()">
<h3>responderChainErrorDelegate</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="responders/IResponderChainErrorDelegate.html" title="interface in com.uk.tsl.rfid.asciiprotocol.responders">IResponderChainErrorDelegate</a></span>&nbsp;<span class="element-name">responderChainErrorDelegate</span>()</div>
<div class="block">The delegate to notify when there is an unhandled exception in the ResponderChain</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The delegate.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setResponderChainErrorDelegate(com.uk.tsl.rfid.asciiprotocol.responders.IResponderChainErrorDelegate)">
<h3>setResponderChainErrorDelegate</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setResponderChainErrorDelegate</span><wbr><span class="parameters">(<a href="responders/IResponderChainErrorDelegate.html" title="interface in com.uk.tsl.rfid.asciiprotocol.responders">IResponderChainErrorDelegate</a>&nbsp;delegate)</span></div>
<div class="block">Sets the responder chain error delegate</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>delegate</code> - teh delegate</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createSharedInstance(android.content.Context)">
<h3>createSharedInstance</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">createSharedInstance</span><wbr><span class="parameters">(android.content.Context&nbsp;context)</span></div>
<div class="block">Create the shared instance of the AsciiCommander
 Does nothing if instance already exists

 Note: this MUST be called from the UI thread</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>context</code> - the ApplicationContext for the AsciiCommander</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="sharedInstance()">
<h3>sharedInstance</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="AsciiCommander.html" title="class in com.uk.tsl.rfid.asciiprotocol">AsciiCommander</a></span>&nbsp;<span class="element-name">sharedInstance</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the shared AsciiCommander for the application or null if none</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isConnected()">
<h3>isConnected</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isConnected</span>()</div>
<div class="block">Gets a value indicating whether a reader is connected and ready for use</div>
</section>
</li>
<li>
<section class="detail" id="getConnectionState()">
<h3>getConnectionState</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="device/ConnectionState.html" title="enum class in com.uk.tsl.rfid.asciiprotocol.device">ConnectionState</a></span>&nbsp;<span class="element-name">getConnectionState</span>()</div>
<div class="block">Query the AsciiCommander's connection state</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the connection state of the AsciiCommander</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="send(java.lang.String)">
<h3>send</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">send</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;line)</span></div>
<div class="block">Send the given string as a CrLf terminated string, to the reader.
 This method waits until the command has been successfully sent</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>line</code> - line The ASCII string to send to the device</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a></code> - if no device is connected</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isResponsive()">
<h3>isResponsive</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isResponsive</span>()</div>
<div class="block">Gets a value indicating whether the last command completed as expected i.e. did not timeout.</div>
</section>
</li>
<li>
<section class="detail" id="getLastActivityTime()">
<h3>getLastActivityTime</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Date.html" title="class or interface in java.util" class="external-link">Date</a></span>&nbsp;<span class="element-name">getLastActivityTime</span>()</div>
<div class="block">Gets or sets the time of the readers last activity (send or receive)</div>
</section>
</li>
<li>
<section class="detail" id="getLastCommandLine()">
<h3>getLastCommandLine</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getLastCommandLine</span>()</div>
<div class="block">Gets the last command line sent
 <p>
 <p>
 Because TSLAsciiCommands add a unique id number each time their commandLine property is accessed this property can be used
 (primarily for debugging) to get the actual command line issued (if examined immediately after the command is executed)</div>
</section>
</li>
<li>
<section class="detail" id="getResponderChain()">
<h3>getResponderChain</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Iterable.html" title="class or interface in java.lang" class="external-link">Iterable</a>&lt;<a href="responders/IAsciiCommandResponder.html" title="interface in com.uk.tsl.rfid.asciiprotocol.responders">IAsciiCommandResponder</a>&gt;</span>&nbsp;<span class="element-name">getResponderChain</span>()</div>
<div class="block">Gets the chain of responders that handle responses to commands</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="commands/IAsciiCommandExecuting.html#getResponderChain()">getResponderChain</a></code>&nbsp;in interface&nbsp;<code><a href="commands/IAsciiCommandExecuting.html" title="interface in com.uk.tsl.rfid.asciiprotocol.commands">IAsciiCommandExecuting</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getHasSynchronousResponder()">
<h3>getHasSynchronousResponder</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">getHasSynchronousResponder</span>()</div>
<div class="block">Gets a value indicating whether the chain has a synchronous responder</div>
</section>
</li>
<li>
<section class="detail" id="executeCommand(com.uk.tsl.rfid.asciiprotocol.commands.IAsciiCommand)">
<h3>executeCommand</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">executeCommand</span><wbr><span class="parameters">(<a href="commands/IAsciiCommand.html" title="interface in com.uk.tsl.rfid.asciiprotocol.commands">IAsciiCommand</a>&nbsp;command)</span></div>
<div class="block">Execute the given command</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="commands/IAsciiCommandExecuting.html#executeCommand(com.uk.tsl.rfid.asciiprotocol.commands.IAsciiCommand)">executeCommand</a></code>&nbsp;in interface&nbsp;<code><a href="commands/IAsciiCommandExecuting.html" title="interface in com.uk.tsl.rfid.asciiprotocol.commands">IAsciiCommandExecuting</a></code></dd>
<dt>Parameters:</dt>
<dd><code>command</code> - The command to execute
                <p>
                For synchronous commands the responder's delegate is set to this object
                Otherwise does nothing
                Derived classes should always call the inherited implementation.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addResponder(com.uk.tsl.rfid.asciiprotocol.responders.IAsciiCommandResponder)">
<h3>addResponder</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addResponder</span><wbr><span class="parameters">(<a href="responders/IAsciiCommandResponder.html" title="interface in com.uk.tsl.rfid.asciiprotocol.responders">IAsciiCommandResponder</a>&nbsp;responder)</span></div>
<div class="block">Add a responder to the responder chain</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="commands/IAsciiCommandExecuting.html#addResponder(com.uk.tsl.rfid.asciiprotocol.responders.IAsciiCommandResponder)">addResponder</a></code>&nbsp;in interface&nbsp;<code><a href="commands/IAsciiCommandExecuting.html" title="interface in com.uk.tsl.rfid.asciiprotocol.commands">IAsciiCommandExecuting</a></code></dd>
<dt>Parameters:</dt>
<dd><code>responder</code> - The responder to add</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeResponder(com.uk.tsl.rfid.asciiprotocol.responders.IAsciiCommandResponder)">
<h3>removeResponder</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">removeResponder</span><wbr><span class="parameters">(<a href="responders/IAsciiCommandResponder.html" title="interface in com.uk.tsl.rfid.asciiprotocol.responders">IAsciiCommandResponder</a>&nbsp;responder)</span></div>
<div class="block">Remove a responder from the responder chain</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="commands/IAsciiCommandExecuting.html#removeResponder(com.uk.tsl.rfid.asciiprotocol.responders.IAsciiCommandResponder)">removeResponder</a></code>&nbsp;in interface&nbsp;<code><a href="commands/IAsciiCommandExecuting.html" title="interface in com.uk.tsl.rfid.asciiprotocol.commands">IAsciiCommandExecuting</a></code></dd>
<dt>Parameters:</dt>
<dd><code>responder</code> - The responder to remove</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addSynchronousResponder()">
<h3>addSynchronousResponder</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addSynchronousResponder</span>()</div>
<div class="block">Add the synchronous responder into the chain</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="commands/IAsciiCommandExecuting.html#addSynchronousResponder()">addSynchronousResponder</a></code>&nbsp;in interface&nbsp;<code><a href="commands/IAsciiCommandExecuting.html" title="interface in com.uk.tsl.rfid.asciiprotocol.commands">IAsciiCommandExecuting</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeSynchronousResponder()">
<h3>removeSynchronousResponder</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">removeSynchronousResponder</span>()</div>
<div class="block">Remove the synchronous responder from the chain</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="commands/IAsciiCommandExecuting.html#removeSynchronousResponder()">removeSynchronousResponder</a></code>&nbsp;in interface&nbsp;<code><a href="commands/IAsciiCommandExecuting.html" title="interface in com.uk.tsl.rfid.asciiprotocol.commands">IAsciiCommandExecuting</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="clearResponders()">
<h3>clearResponders</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">clearResponders</span>()</div>
<div class="block">Clear all responders from the responder chain</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="commands/IAsciiCommandExecuting.html#clearResponders()">clearResponders</a></code>&nbsp;in interface&nbsp;<code><a href="commands/IAsciiCommandExecuting.html" title="interface in com.uk.tsl.rfid.asciiprotocol.commands">IAsciiCommandExecuting</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="abortSynchronousCommand()">
<h3>abortSynchronousCommand</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">abortSynchronousCommand</span>()</div>
<div class="block">Terminates the currently running synchronous command</div>
</section>
</li>
<li>
<section class="detail" id="updateDeviceProperties()">
<h3>updateDeviceProperties</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">updateDeviceProperties</span>()</div>
<div class="block">Update the AsciiCommander's DeviceProperties for the currently connected reader

 This uses synchronous/blocking commands</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
